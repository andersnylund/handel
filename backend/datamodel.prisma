type User {
  id: UUID! @id(strategy: AUTO)
  sub: String! @unique
  email: String! @unique
  emailVerified: Boolean! @default(value: false)
  items: [Item]!
  dealParticipations: [DealParticipant]!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Item {
  id: UUID! @id(strategy: AUTO)
  title: String!
  description: String!
  price: Int!
  image: String!
  largeImage: String!
  user: User
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Deal {
  id: UUID! @id(strategy: AUTO)
  dealParticipants: [DealParticipant]!
  items: [Item]!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type DealParticipant {
  id: UUID! @id(strategy: AUTO)
  deal: Deal
  participant: User
  approval: DealApproval
  lastSeen: DateTime!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

enum DealApproval {
  ACCEPT
  REJECT
  UNACKNOWLEDGED
}
